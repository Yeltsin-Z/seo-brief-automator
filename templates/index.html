<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO Brief Automator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts: Inter & Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
        }
        /* Dark animated background with moving shapes */
        body {
            min-height: 100vh;
            font-family: 'Inter', 'Poppins', Arial, sans-serif;
            background: #181c2a;
            overflow-x: hidden;
            position: relative;
        }
        /* Futuristic Tech Background */
        .bg-animated {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #0a0a0a 100%);
            background-size: 400% 400%;
            animation: techGradient 20s ease infinite;
            overflow: hidden;
            z-index: -1;
        }
        
        @keyframes techGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Digital Grid */
        .grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 15s linear infinite;
        }
        
        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }
        
        /* Neural Network Nodes */
        .neural-node {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #00ffff;
            border-radius: 50%;
            box-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
            animation: nodePulse 3s ease-in-out infinite;
        }
        
        .neural-node:nth-child(1) { top: 15%; left: 20%; animation-delay: 0s; }
        .neural-node:nth-child(2) { top: 25%; left: 60%; animation-delay: 0.5s; }
        .neural-node:nth-child(3) { top: 35%; left: 40%; animation-delay: 1s; }
        .neural-node:nth-child(4) { top: 45%; left: 80%; animation-delay: 1.5s; }
        .neural-node:nth-child(5) { top: 55%; left: 10%; animation-delay: 2s; }
        .neural-node:nth-child(6) { top: 65%; left: 70%; animation-delay: 2.5s; }
        .neural-node:nth-child(7) { top: 75%; left: 30%; animation-delay: 3s; }
        .neural-node:nth-child(8) { top: 85%; left: 90%; animation-delay: 3.5s; }
        
        @keyframes nodePulse {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.5); opacity: 1; }
        }
        
        /* Neural Connections */
        .neural-connection {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, transparent, #00ffff, transparent);
            animation: connectionFlow 4s linear infinite;
        }
        
        .connection1 { top: 18%; left: 20%; width: 40%; animation-delay: 0s; }
        .connection2 { top: 28%; left: 60%; width: 20%; animation-delay: 1s; }
        .connection3 { top: 38%; left: 40%; width: 40%; animation-delay: 2s; }
        .connection4 { top: 48%; left: 80%; width: 10%; animation-delay: 3s; }
        .connection5 { top: 58%; left: 10%; width: 60%; animation-delay: 0.5s; }
        .connection6 { top: 68%; left: 70%; width: 20%; animation-delay: 1.5s; }
        .connection7 { top: 78%; left: 30%; width: 60%; animation-delay: 2.5s; }
        
        @keyframes connectionFlow {
            0% { opacity: 0; transform: scaleX(0); }
            50% { opacity: 1; transform: scaleX(1); }
            100% { opacity: 0; transform: scaleX(0); }
        }
        
        /* Circuit Patterns */
        .circuit {
            position: absolute;
            width: 200px;
            height: 150px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 10px;
            background: linear-gradient(45deg, transparent 30%, rgba(0, 255, 255, 0.1) 50%, transparent 70%);
            animation: circuitGlow 6s ease-in-out infinite;
        }
        
        .circuit1 { top: 10%; right: 10%; animation-delay: 0s; }
        .circuit2 { bottom: 20%; left: 5%; animation-delay: 2s; }
        .circuit3 { top: 50%; right: 30%; animation-delay: 4s; }
        
        @keyframes circuitGlow {
            0%, 100% { box-shadow: 0 0 5px rgba(0, 255, 255, 0.3); opacity: 0.5; }
            50% { box-shadow: 0 0 20px rgba(0, 255, 255, 0.6); opacity: 0.8; }
        }
        
        /* Data Streams */
        .data-stream {
            position: absolute;
            width: 2px;
            height: 100px;
            background: linear-gradient(to bottom, transparent, #00ffff, transparent);
            animation: dataFlow 8s linear infinite;
        }
        
        .stream1 { left: 15%; animation-delay: 0s; }
        .stream2 { left: 35%; animation-delay: 2s; }
        .stream3 { left: 55%; animation-delay: 4s; }
        .stream4 { left: 75%; animation-delay: 6s; }
        .stream5 { right: 15%; animation-delay: 1s; }
        .stream6 { right: 35%; animation-delay: 3s; }
        .stream7 { right: 55%; animation-delay: 5s; }
        
        @keyframes dataFlow {
            0% { transform: translateY(-100px); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }
        
        /* Holographic Rings */
        .hologram-ring {
            position: absolute;
            border: 2px solid rgba(0, 255, 255, 0.4);
            border-radius: 50%;
            animation: hologramRotate 12s linear infinite;
        }
        
        .ring1 {
            width: 300px;
            height: 300px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation-delay: 0s;
        }
        
        .ring2 {
            width: 200px;
            height: 200px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation-delay: 4s;
            animation-direction: reverse;
        }
        
        .ring3 {
            width: 100px;
            height: 100px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation-delay: 8s;
        }
        
        @keyframes hologramRotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); opacity: 0.3; }
            50% { opacity: 0.7; }
            100% { transform: translate(-50%, -50%) rotate(360deg); opacity: 0.3; }
        }
        
        /* Tech Particles */
        .tech-particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #00ffff;
            border-radius: 50%;
            box-shadow: 0 0 6px #00ffff;
            animation: techFloat 10s ease-in-out infinite;
        }
        
        .tech-particle:nth-child(1) { left: 10%; animation-delay: 0s; }
        .tech-particle:nth-child(2) { left: 25%; animation-delay: 2s; }
        .tech-particle:nth-child(3) { left: 40%; animation-delay: 4s; }
        .tech-particle:nth-child(4) { left: 55%; animation-delay: 6s; }
        .tech-particle:nth-child(5) { left: 70%; animation-delay: 8s; }
        .tech-particle:nth-child(6) { left: 85%; animation-delay: 10s; }
        
        @keyframes techFloat {
            0%, 100% { transform: translateY(100vh) scale(0.5); opacity: 0; }
            10% { opacity: 1; transform: scale(1); }
            90% { opacity: 1; transform: scale(1); }
            100% { transform: translateY(-100px) scale(0.5); opacity: 0; }
        }
        
        /* Scanning Lines */
        .scan-line {
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ffff, transparent);
            animation: scanMove 6s linear infinite;
        }
        
        .scan1 { top: 20%; animation-delay: 0s; }
        .scan2 { top: 40%; animation-delay: 2s; }
        .scan3 { top: 60%; animation-delay: 4s; }
        .scan4 { top: 80%; animation-delay: 6s; }
        
        @keyframes scanMove {
            0% { transform: translateX(-100%); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateX(100%); opacity: 0; }
        }
        /* Floating Particles */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(99, 102, 241, 0.6);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite;
        }
        .particle:nth-child(1) { left: 10%; animation-delay: 0s; animation-duration: 12s; }
        .particle:nth-child(2) { left: 20%; animation-delay: 2s; animation-duration: 10s; }
        .particle:nth-child(3) { left: 30%; animation-delay: 4s; animation-duration: 14s; }
        .particle:nth-child(4) { left: 40%; animation-delay: 6s; animation-duration: 11s; }
        .particle:nth-child(5) { left: 50%; animation-delay: 8s; animation-duration: 13s; }
        .particle:nth-child(6) { left: 60%; animation-delay: 10s; animation-duration: 9s; }
        .particle:nth-child(7) { left: 70%; animation-delay: 12s; animation-duration: 15s; }
        .particle:nth-child(8) { left: 80%; animation-delay: 14s; animation-duration: 12s; }
        .particle:nth-child(9) { left: 90%; animation-delay: 16s; animation-duration: 10s; }
        @keyframes float {
            0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        /* Enhanced Shapes */
        .shape {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(45deg, rgba(99, 102, 241, 0.1), rgba(16, 185, 129, 0.1));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .shape1 {
            width: 200px;
            height: 200px;
            top: 10%;
            left: 10%;
            animation: rotateAndFloat 20s linear infinite, pulse 4s ease-in-out infinite;
        }
        .shape2 {
            width: 150px;
            height: 150px;
            top: 60%;
            right: 15%;
            animation: rotateAndFloat 25s linear infinite reverse, pulse 6s ease-in-out infinite;
        }
        .shape3 {
            width: 100px;
            height: 100px;
            bottom: 20%;
            left: 20%;
            animation: rotateAndFloat 15s linear infinite, pulse 3s ease-in-out infinite;
        }
        .shape4 {
            width: 120px;
            height: 120px;
            top: 30%;
            right: 40%;
            animation: rotateAndFloat 18s linear infinite reverse, pulse 5s ease-in-out infinite;
        }
        .shape5 {
            width: 80px;
            height: 80px;
            bottom: 40%;
            right: 10%;
            animation: rotateAndFloat 22s linear infinite, pulse 4.5s ease-in-out infinite;
        }
        @keyframes rotateAndFloat {
            0% { transform: rotate(0deg) translateY(0px) scale(1); }
            25% { transform: rotate(90deg) translateY(-20px) scale(1.1); }
            50% { transform: rotate(180deg) translateY(0px) scale(0.9); }
            75% { transform: rotate(270deg) translateY(20px) scale(1.05); }
            100% { transform: rotate(360deg) translateY(0px) scale(1); }
        }
        @keyframes pulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.1); }
        }
        /* Wave Effect */
        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: linear-gradient(45deg, rgba(99, 102, 241, 0.1), rgba(16, 185, 129, 0.1));
            clip-path: polygon(0 50%, 100% 30%, 100% 100%, 0% 100%);
            animation: waveMove 8s ease-in-out infinite;
        }
        .wave2 {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 80px;
            background: linear-gradient(45deg, rgba(16, 185, 129, 0.1), rgba(99, 102, 241, 0.1));
            clip-path: polygon(0 60%, 100% 40%, 100% 100%, 0% 100%);
            animation: waveMove 10s ease-in-out infinite reverse;
        }
        @keyframes waveMove {
            0%, 100% { transform: translateX(0) scaleY(1); }
            50% { transform: translateX(-20px) scaleY(1.1); }
        }
        /* Glowing Orbs */
        .orb {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.3) 0%, transparent 70%);
            animation: orbFloat 12s ease-in-out infinite;
        }
        .orb1 {
            width: 60px;
            height: 60px;
            top: 15%;
            right: 25%;
            animation-delay: 0s;
        }
        .orb2 {
            width: 40px;
            height: 40px;
            bottom: 30%;
            left: 60%;
            animation-delay: 4s;
        }
        .orb3 {
            width: 50px;
            height: 50px;
            top: 70%;
            left: 15%;
            animation-delay: 8s;
        }
        @keyframes orbFloat {
            0%, 100% { transform: translateY(0px) scale(1); opacity: 0.5; }
            25% { transform: translateY(-30px) scale(1.2); opacity: 0.8; }
            50% { transform: translateY(-60px) scale(0.8); opacity: 0.3; }
            75% { transform: translateY(-30px) scale(1.1); opacity: 0.6; }
        }
        
        /* Futuristic Animated Logo Styles */
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .logo-orbit {
            position: relative;
            width: 120px;
            height: 120px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .logo-core {
            position: relative;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6, #06b6d4);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 
                0 0 30px rgba(99, 102, 241, 0.6),
                0 0 60px rgba(139, 92, 246, 0.4),
                0 0 90px rgba(6, 182, 212, 0.2),
                inset 0 0 20px rgba(255, 255, 255, 0.1);
            animation: logoPulse 3s ease-in-out infinite;
            z-index: 10;
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .logo-inner {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }

        .logo-icon {
            font-size: 24px;
            margin-bottom: 2px;
            animation: iconGlow 2s ease-in-out infinite alternate;
        }
        
        .logo-text {
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }
        
        .orbit-ring {
            position: absolute;
            border: 2px solid transparent;
            border-radius: 50%;
            background: linear-gradient(45deg, transparent, rgba(0, 255, 255, 0.3), transparent);
            animation: orbitRotate 8s linear infinite;
        }
        
        .orbit-1 {
            width: 100px;
            height: 100px;
            border-color: rgba(0, 255, 255, 0.4);
            animation-duration: 8s;
        }
        
        .orbit-2 {
            width: 120px;
            height: 120px;
            border-color: rgba(99, 102, 241, 0.3);
            animation-duration: 12s;
            animation-direction: reverse;
        }
        
        .orbit-3 {
            width: 140px;
            height: 140px;
            border-color: rgba(139, 92, 246, 0.2);
            animation-duration: 16s;
        }
        
        .orbit-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00ffff;
            border-radius: 50%;
            box-shadow: 0 0 8px #00ffff;
            animation: particleOrbit 6s linear infinite;
        }
        
        .particle-1 { animation-delay: 0s; }
        .particle-2 { animation-delay: 1s; }
        .particle-3 { animation-delay: 2s; }
        .particle-4 { animation-delay: 3s; }
        .particle-5 { animation-delay: 4s; }
        .particle-6 { animation-delay: 5s; }
        
        @keyframes logoPulse {
            0%, 100% { 
                transform: scale(1) rotateX(0deg) rotateY(0deg);
                box-shadow: 
                    0 0 30px rgba(99, 102, 241, 0.6),
                    0 0 60px rgba(139, 92, 246, 0.4),
                    0 0 90px rgba(6, 182, 212, 0.2);
            }
            25% { 
                transform: scale(1.02) rotateX(2deg) rotateY(-2deg);
            }
            50% { 
                transform: scale(1.05) rotateX(0deg) rotateY(0deg);
                box-shadow: 
                    0 0 40px rgba(99, 102, 241, 0.8),
                    0 0 80px rgba(139, 92, 246, 0.6),
                    0 0 120px rgba(6, 182, 212, 0.4);
            }
            75% { 
                transform: scale(1.02) rotateX(-2deg) rotateY(2deg);
            }
        }
        
        @keyframes iconGlow {
            0% { 
                text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
                transform: scale(1);
            }
            100% { 
                text-shadow: 0 0 15px rgba(255, 255, 255, 1), 0 0 25px rgba(255, 255, 255, 0.8);
                transform: scale(1.1);
            }
        }
        
        @keyframes orbitRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes particleOrbit {
            0% { 
                transform: rotate(0deg) translateX(60px) rotate(0deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { 
                transform: rotate(360deg) translateX(60px) rotate(-360deg);
                opacity: 0;
            }
        }
        
        /* Logo hover effects */
        .logo-orbit:hover .logo-core {
            animation: logoPulse 1s ease-in-out infinite;
            transform: scale(1.1) rotateX(5deg) rotateY(-5deg);
            transition: transform 0.3s ease;
        }
        
        .logo-orbit:hover .orbit-ring {
            animation-duration: 4s;
            border-color: rgba(0, 255, 255, 0.8);
        }
        
        .logo-orbit:hover .orbit-particle {
            animation-duration: 3s;
            box-shadow: 0 0 15px #00ffff, 0 0 30px #00ffff;
        }
        
        .logo-orbit:hover .energy-ring {
            animation-duration: 5s;
            background: conic-gradient(from 0deg, transparent, rgba(0, 255, 255, 0.6), transparent);
        }
        
        .logo-orbit:hover .glow-dot {
            animation-duration: 1s;
            box-shadow: 0 0 15px #00ffff, 0 0 30px #00ffff, 0 0 45px #00ffff;
        }
        
        /* Additional Logo Elements */
        .energy-ring {
            position: absolute;
            border-radius: 50%;
            border: 1px solid transparent;
            background: conic-gradient(from 0deg, transparent, rgba(0, 255, 255, 0.3), transparent);
            animation: energyRotate 10s linear infinite;
        }
        
        .energy-1 {
            width: 160px;
            height: 160px;
            animation-duration: 10s;
        }
        
        .energy-2 {
            width: 180px;
            height: 180px;
            animation-duration: 15s;
            animation-direction: reverse;
        }
        
        .energy-3 {
            width: 200px;
            height: 200px;
            animation-duration: 20s;
        }
        
        .data-stream {
            position: absolute;
            width: 2px;
            height: 40px;
            background: linear-gradient(to bottom, transparent, #00ffff, transparent);
            animation: dataFlowLogo 4s linear infinite;
        }
        
        .stream-1 { top: -20px; left: 50%; transform: translateX(-50%); animation-delay: 0s; }
        .stream-2 { bottom: -20px; left: 50%; transform: translateX(-50%); animation-delay: 1s; }
        .stream-3 { left: -20px; top: 50%; transform: translateY(-50%); animation-delay: 2s; }
        .stream-4 { right: -20px; top: 50%; transform: translateY(-50%); animation-delay: 3s; }
        
        .glow-dot {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #00ffff;
            border-radius: 50%;
            box-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
            animation: glowPulse 2s ease-in-out infinite;
        }
        
        .dot-1 { top: 10px; left: 10px; animation-delay: 0s; }
        .dot-2 { top: 10px; right: 10px; animation-delay: 0.5s; }
        .dot-3 { bottom: 10px; left: 10px; animation-delay: 1s; }
        .dot-4 { bottom: 10px; right: 10px; animation-delay: 1.5s; }
        
        @keyframes energyRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes dataFlowLogo {
            0% { 
                transform: translateX(-50%) scaleY(0);
                opacity: 0;
            }
            50% { 
                transform: translateX(-50%) scaleY(1);
                opacity: 1;
            }
            100% { 
                transform: translateX(-50%) scaleY(0);
                opacity: 0;
            }
        }
        
        @keyframes glowPulse {
            0%, 100% { 
                transform: scale(1);
                opacity: 0.7;
            }
            50% { 
                transform: scale(1.5);
                opacity: 1;
            }
        }
        
        /* Responsive logo adjustments */
        @media (max-width: 768px) {
            .logo-orbit {
                width: 100px;
                height: 100px;
            }
            
            .logo-core {
                width: 60px;
                height: 60px;
            }
            
            .logo-icon {
                font-size: 18px;
            }
            
            .logo-text {
                font-size: 8px;
            }
            
            .orbit-1 { width: 80px; height: 80px; }
            .orbit-2 { width: 100px; height: 100px; }
            .orbit-3 { width: 120px; height: 120px; }
            
            .energy-1 { width: 130px; height: 130px; }
            .energy-2 { width: 150px; height: 150px; }
            .energy-3 { width: 170px; height: 170px; }
        }
        
        .container-fluid {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 10;
        }
        
        /* Main title enhancements */
        .container-fluid h1 {
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #00ffff, #6366f1, #8b5cf6, #00ffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            margin-bottom: 1rem;
            animation: titleGlow 3s ease-in-out infinite;
        }
        
        .container-fluid p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
            margin-bottom: 2rem;
        }
        
        @keyframes titleGlow {
            0%, 100% { filter: brightness(1) drop-shadow(0 0 15px rgba(0, 255, 255, 0.3)); }
            50% { filter: brightness(1.1) drop-shadow(0 0 25px rgba(0, 255, 255, 0.5)); }
        }
        .stepper {
            display: flex;
            flex-direction: column;
            gap: 2.5rem;
            margin-top: 2rem;
            position: relative;
        }
        
        /* Floating tech elements around content */
        .stepper::before {
            content: '';
            position: absolute;
            top: -50px;
            left: -50px;
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, rgba(0, 255, 255, 0.1), transparent);
            border-radius: 50%;
            animation: floatElement 8s ease-in-out infinite;
            z-index: -1;
        }
        
        .stepper::after {
            content: '';
            position: absolute;
            bottom: -50px;
            right: -50px;
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, transparent, rgba(99, 102, 241, 0.1));
            border-radius: 50%;
            animation: floatElement 10s ease-in-out infinite reverse;
            z-index: -1;
        }
        
        @keyframes floatElement {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        .step {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 2.5rem;
            margin-bottom: 2.5rem;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(0, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(0, 255, 255, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: fadeInUp 0.6s ease-out;
            position: relative;
            overflow: hidden;
        }

        .step::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.5), transparent);
            animation: scanLine 3s linear infinite;
        }
        
        .step::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 80%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(99, 102, 241, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        .step:hover {
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.12),
                0 0 0 2px rgba(0, 255, 255, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
            border-color: rgba(0, 255, 255, 0.6);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.95));
        }
        
        @keyframes scanLine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        .step:nth-child(1) { animation-delay: 0.1s; }
        .step:nth-child(2) { animation-delay: 0.3s; }
        .step:nth-child(3) { animation-delay: 0.5s; }
        .step:nth-child(4) { animation-delay: 0.7s; }
        
        /* Progressive step display */
        .step-hidden {
            opacity: 0;
            transform: translateY(30px);
            pointer-events: none;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .step-visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Progress Indicator */
        .progress-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .progress-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            padding: 0 2rem;
        }
        
        .progress-steps::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-50%);
            z-index: 1;
        }
        
        .progress-step {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.4s ease;
        }
        
        .progress-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.6);
            font-size: 1.2rem;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
        }
        
        .progress-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 500;
            text-align: center;
            transition: all 0.4s ease;
        }
        
        .progress-step.active .progress-icon {
            background: linear-gradient(135deg, #00ffff, #6366f1);
            border-color: #00ffff;
            color: white;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            animation: progressPulse 2s ease-in-out infinite;
        }
        
        .progress-step.active .progress-label {
            color: #00ffff;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }
        
        .progress-step.completed .progress-icon {
            background: linear-gradient(135deg, #10b981, #059669);
            border-color: #10b981;
            color: white;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.4);
        }
        
        .progress-step.completed .progress-label {
            color: #10b981;
            text-shadow: 0 0 8px rgba(16, 185, 129, 0.4);
        }
        
        @keyframes progressPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Modal Styling */
        .modal {
            z-index: 9999 !important;
        }
        
        .modal-backdrop {
            z-index: 9998 !important;
        }
        
        /* Ensure modal content is focusable */
        .modal-content {
            outline: none;
        }
        
        #htmlContent {
            outline: none;
            tabindex: 0;
        }
        
        .modal-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.95));
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 20px;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(0, 255, 255, 0.2);
        }
        
        .modal-header {
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(99, 102, 241, 0.1));
            border-radius: 18px 18px 0 0;
        }
        
        .modal-title {
            color: #1a1a2e;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        
        .modal-body {
            padding: 2rem;
            background: rgba(255, 255, 255, 0.8);
        }
        
        .modal-footer {
            border-top: 1px solid rgba(0, 255, 255, 0.2);
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(99, 102, 241, 0.05));
            border-radius: 0 0 18px 18px;
        }
        
        #htmlContent {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #1a1a2e;
        }
        
        #htmlContent h1, #htmlContent h2, #htmlContent h3, #htmlContent h4, #htmlContent h5, #htmlContent h6 {
            color: #1a1a2e;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        
        #htmlContent p {
            margin-bottom: 1rem;
        }
        
        #htmlContent ul, #htmlContent ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }
        
        #htmlContent li {
            margin-bottom: 0.5rem;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .step.active {
            border-left: 6px solid #6366f1;
        }
        .step.complete {
            border-left: 6px solid #10b981;
        }
        .step .step-title {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            letter-spacing: 0.02em;
            color: #1a1a2e;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
            position: relative;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .step .step-title i {
            font-size: 1.8rem;
            background: linear-gradient(45deg, #00ffff, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: iconPulse 2s ease-in-out infinite;
        }
        
        @keyframes iconPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .step .status {
            font-size: 1.1rem;
            margin-bottom: 1.2rem;
            color: #6366f1;
            text-shadow: 0 0 5px rgba(99, 102, 241, 0.3);
            font-weight: 600;
            padding: 0.8rem 1.2rem;
            background: rgba(99, 102, 241, 0.1);
            border-radius: 12px;
            border: 1px solid rgba(99, 102, 241, 0.2);
            backdrop-filter: blur(10px);
        }
        .step .result-area {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.8));
            border-radius: 18px;
            padding: 1.8rem;
            margin-top: 1.5rem;
            font-size: 1.05rem;
            white-space: pre-wrap;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(0, 255, 255, 0.2);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInResult 0.7s 0.2s forwards;
            border: 1px solid rgba(0, 255, 255, 0.3);
            backdrop-filter: blur(15px);
            color: #1a1a2e;
            text-shadow: 0 0 2px rgba(26, 26, 46, 0.1);
            line-height: 1.6;
        }
        
        .step .result-area h1, .step .result-area h2, .step .result-area h3, 
        .step .result-area h4, .step .result-area h5, .step .result-area h6 {
            color: #1a1a2e;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        .step .result-area h2 {
            color: #6366f1;
            border-bottom: 2px solid rgba(99, 102, 241, 0.3);
            padding-bottom: 0.5rem;
        }
        
        .step .result-area h3 {
            color: #059669;
        }
        
        .step .result-area ul {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }
        
        .step .result-area li {
            margin-bottom: 0.5rem;
            position: relative;
        }
        
        .step .result-area li:before {
            content: '•';
            color: #00ffff;
            font-weight: bold;
            position: absolute;
            left: -1.2rem;
        }
        
        .step .result-area p {
            margin-bottom: 1rem;
        }
        
        .step .result-area strong {
            color: #1a1a2e;
            font-weight: 600;
        }

        .step .result-area em {
            color: #6b7280;
            font-style: italic;
        }
        
        /* Enhanced UGC Research Styling */
        .step .result-area h1 {
            color: #6366f1 !important;
            border-bottom: 3px solid rgba(99, 102, 241, 0.3) !important;
            padding-bottom: 0.5rem !important;
            margin-bottom: 1.5rem !important;
        }
        
        .step .result-area h2 {
            color: #059669 !important;
            border-left: 4px solid #10b981 !important;
            padding-left: 1rem !important;
            margin-top: 2rem !important;
        }
        
        .step .result-area h3 {
            color: #7c3aed !important;
            font-weight: 600 !important;
        }
        
        .step .result-area blockquote {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(16, 185, 129, 0.1));
            border-left: 4px solid #6366f1;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }
        
        .step .result-area code {
            background: rgba(0, 255, 255, 0.1);
            color: #1a1a2e;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        
        /* Special styling for final brief results */
        #finalResults {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
            border: 2px solid rgba(16, 185, 129, 0.3);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(16, 185, 129, 0.2),
                0 0 20px rgba(16, 185, 129, 0.1);
        }
        
        #finalResults h2 {
            color: #059669 !important;
            border-bottom: 2px solid rgba(16, 185, 129, 0.4) !important;
        }
        
        #finalResults h3 {
            color: #047857 !important;
        }
        
        #finalResults h4 {
            color: #065f46 !important;
        }
        
        #finalResults li:before {
            color: #10b981 !important;
        }
        @keyframes fadeInResult {
            to { opacity: 1; transform: none; }
        }
        .step form {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
        }
        .step form .form-control {
            flex: 1;
            min-width: 200px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 12px;
            padding: 1rem 1.2rem;
            color: #1a1a2e;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(15px);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        .step form .form-control:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 
                0 0 0 4px rgba(0, 255, 255, 0.2),
                0 6px 20px rgba(0, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.95));
        }
        
        .step form .form-control::placeholder {
            color: rgba(26, 26, 46, 0.6);
        }
        .prompt-edit {
            width: 100%;
            min-height: 140px;
            padding: 1.2rem;
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 16px;
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            line-height: 1.6;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
            color: #1a1a2e;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            resize: vertical;
            backdrop-filter: blur(15px);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        .prompt-edit:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 
                0 0 0 4px rgba(0, 255, 255, 0.2),
                0 6px 20px rgba(0, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.95));
        }
        
        .prompt-edit::placeholder {
            color: rgba(26, 26, 46, 0.6);
        }
        .step .btn {
            font-family: 'Poppins', 'Inter', Arial, sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 50px;
            padding: 1rem 2.5rem;
            margin: 0.3rem 0.3rem;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(0, 255, 255, 0.3);
            border: 2px solid rgba(0, 255, 255, 0.4);
            background: linear-gradient(135deg, #00ffff 0%, #6366f1 50%, #8b5cf6 100%);
            color: #fff;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
        }
        
        .step .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }
        
        .step .btn:hover::before {
            left: 100%;
        }
        
        .step .btn:hover, .step .btn:focus {
            background: linear-gradient(135deg, #6366f1 0%, #00ffff 50%, #8b5cf6 100%);
            color: #fff;
            box-shadow: 
                0 8px 25px rgba(0, 255, 255, 0.4),
                0 0 0 2px rgba(0, 255, 255, 0.6),
                0 0 20px rgba(0, 255, 255, 0.3);
            border-color: rgba(0, 255, 255, 0.8);
        }
        
        .step .btn:active {
            transform: scale(0.98);
            box-shadow: 
                0 4px 15px rgba(0, 255, 255, 0.3),
                0 0 0 1px rgba(0, 255, 255, 0.5);
        }
        
        .step .btn[disabled] {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        .download-section {
            margin-top: 2rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
            border: 2px solid rgba(0, 255, 255, 0.4);
            border-radius: 20px;
            text-align: center;
            box-shadow: 
                0 8px 30px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(0, 255, 255, 0.2);
            animation: fadeInResult 0.7s 0.3s forwards;
            backdrop-filter: blur(15px);
            position: relative;
            overflow: hidden;
        }
        
        .download-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #00ffff, #6366f1, #8b5cf6, #00ffff);
            animation: downloadScan 3s linear infinite;
        }
        
        @keyframes downloadScan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        .download-section .btn {
            margin: 0 8px;
            min-width: 180px;
        }
        /* Modal glass effect */
        .modal-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.95));
            border-radius: 25px;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(0, 255, 255, 0.3);
            border: 2px solid rgba(0, 255, 255, 0.4);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(25px);
            color: #1a1a2e;
        }
        .modal-header, .modal-footer {
            border: none;
        }
        .modal-title {
            font-family: 'Poppins', 'Inter', Arial, sans-serif;
            font-weight: 800;
            color: #6366f1;
            text-shadow: 0 0 10px rgba(99, 102, 241, 0.3);
            font-size: 1.5rem;
        }
        /* Animations for modal */
        .modal.fade .modal-dialog {
            transition: transform 0.3s cubic-bezier(.4,2,.6,1), opacity 0.3s;
            transform: translateY(40px) scale(0.98);
            opacity: 0;
        }
        .modal.show .modal-dialog {
            transform: none;
            opacity: 1;
        }
        /* Misc */
        .fw-bold {
            font-weight: 700 !important;
        }
        .text-white-50 {
            color: rgba(255,255,255,0.7) !important;
        }
        /* Responsive tweaks */
        @media (max-width: 1200px) {
            .container-fluid {
                max-width: 1200px;
                padding: 0 1.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .container-fluid {
                max-width: 100%;
                padding: 0 1rem;
            }
            .step {
                padding: 1.5rem;
                margin-bottom: 1.5rem;
            }
            .step form {
                flex-direction: column;
                align-items: stretch;
            }
            .step form .form-control {
                min-width: auto;
            }
            .step .btn {
                padding: 0.8rem 1.5rem;
                font-size: 0.95rem;
            }
            
            .progress-steps {
                padding: 0 1rem;
                gap: 0.5rem;
            }
            
            .progress-icon {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .progress-label {
                font-size: 0.7rem;
            }
        }
        
        @media (max-width: 600px) {
            .container-fluid {
                padding: 0 0.5rem;
            }
            .step {
                padding: 1.2rem 0.7rem;
            }
            .step .btn {
                padding: 0.7rem 1.2rem;
                font-size: 1rem;
            }
            
            .progress-steps {
                flex-direction: column;
                gap: 1rem;
                padding: 0;
            }
            
            .progress-steps::before {
                display: none;
            }
            
            .progress-icon {
                width: 35px;
                height: 35px;
                font-size: 0.9rem;
            }
            
            .progress-label {
                font-size: 0.65rem;
            }
        }
        .step .result-area, #ugcResults, #serpBriefResults, #finalResults {
            color: #111 !important;
            font-family: 'Inter', Arial, sans-serif;
            background: linear-gradient(135deg, #fff 98%, #f8fafc 100%);
            line-height: 1.5;
            font-size: 1.05rem;
        }
        .step .result-area p, #ugcResults p, #serpBriefResults p, #finalResults p {
            margin-bottom: 0.6rem !important;
            margin-top: 0 !important;
            color: #111 !important;
        }
        .step .result-area h1, .step .result-area h2, .step .result-area h3, .step .result-area h4, .step .result-area h5, .step .result-area h6,
        #ugcResults h1, #ugcResults h2, #ugcResults h3, #ugcResults h4, #ugcResults h5, #ugcResults h6,
        #serpBriefResults h1, #serpBriefResults h2, #serpBriefResults h3, #serpBriefResults h4, #serpBriefResults h5, #serpBriefResults h6,
        #finalResults h1, #finalResults h2, #finalResults h3, #finalResults h4, #finalResults h5, #finalResults h6 {
            color: #111 !important;
            margin-top: 1.1rem !important;
            margin-bottom: 0.5rem !important;
        }
        .step .result-area ul, #ugcResults ul, #serpBriefResults ul, #finalResults ul {
            margin-bottom: 0.7rem !important;
            margin-top: 0 !important;
        }
        .step .result-area li, #ugcResults li, #serpBriefResults li, #finalResults li {
            color: #111 !important;
            margin-bottom: 0.3rem !important;
            margin-top: 0 !important;
        }
        .custom-list {
            padding-left: 2.2em;
            margin-bottom: 1.2em;
            list-style-type: disc;
        }
        .custom-list-ol {
            padding-left: 2.2em;
            margin-bottom: 1.2em;
            list-style-type: decimal;
        }
        .custom-list-item {
            margin-bottom: 0.5em;
            position: relative;
            color: #111;
            font-size: 1.08em;
            line-height: 1.7;
        }
        .custom-list-item::marker {
            color: #6366f1;
            font-size: 1.1em;
        }
        .modern-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: #fff;
            border-radius: 14px;
            overflow: hidden;
            box-shadow: 0 2px 12px rgba(99,102,241,0.07);
            margin: 1.5rem 0;
        }
        .modern-table th, .modern-table td {
            padding: 0.85em 1.2em;
            text-align: left;
        }
        .modern-table th {
            background: linear-gradient(90deg, #6366f1 0%, #06b6d4 100%);
            color: #fff;
            font-weight: 600;
            border-bottom: 2px solid #e5e7eb;
        }
        .modern-table tr {
            border-bottom: 1px solid #e5e7eb;
        }
        .modern-table tr:nth-child(even) {
            background: #f8fafc;
        }
        .modern-table tr:hover {
            background: #e0e7ff;
        }
        .modern-table td {
            color: #22223b;
            font-size: 1.01em;
        }
    </style>
</head>
<body>
<div class="bg-animated">
    <!-- Digital Grid -->
    <div class="grid"></div>
    
    <!-- Neural Network Nodes -->
    <div class="neural-node"></div>
    <div class="neural-node"></div>
    <div class="neural-node"></div>
    <div class="neural-node"></div>
    <div class="neural-node"></div>
    <div class="neural-node"></div>
    <div class="neural-node"></div>
    <div class="neural-node"></div>
    
    <!-- Neural Connections -->
    <div class="neural-connection connection1"></div>
    <div class="neural-connection connection2"></div>
    <div class="neural-connection connection3"></div>
    <div class="neural-connection connection4"></div>
    <div class="neural-connection connection5"></div>
    <div class="neural-connection connection6"></div>
    <div class="neural-connection connection7"></div>
    
    <!-- Circuit Patterns -->
    <div class="circuit circuit1"></div>
    <div class="circuit circuit2"></div>
    <div class="circuit circuit3"></div>
    
    <!-- Data Streams -->
    <div class="data-stream stream1"></div>
    <div class="data-stream stream2"></div>
    <div class="data-stream stream3"></div>
    <div class="data-stream stream4"></div>
    <div class="data-stream stream5"></div>
    <div class="data-stream stream6"></div>
    <div class="data-stream stream7"></div>
    
    <!-- Holographic Rings -->
    <div class="hologram-ring ring1"></div>
    <div class="hologram-ring ring2"></div>
    <div class="hologram-ring ring3"></div>
    
    <!-- Tech Particles -->
    <div class="tech-particle"></div>
    <div class="tech-particle"></div>
    <div class="tech-particle"></div>
    <div class="tech-particle"></div>
    <div class="tech-particle"></div>
    <div class="tech-particle"></div>
    
    <!-- Scanning Lines -->
    <div class="scan-line scan1"></div>
    <div class="scan-line scan2"></div>
    <div class="scan-line scan3"></div>
    <div class="scan-line scan4"></div>
                                </div>
<div class="container-fluid py-5">
    <div class="text-center mb-4">
        <!-- Futuristic Animated Logo -->
        <div class="logo-container mb-4">
            <div class="logo-orbit">
                <div class="logo-core">
                    <div class="logo-inner">
                        <div class="logo-icon">
                            <i class="fas fa-robot"></i>
                            </div>
                        <div class="logo-text">SEO</div>
                                </div>
                            </div>
                <div class="orbit-ring orbit-1"></div>
                <div class="orbit-ring orbit-2"></div>
                <div class="orbit-ring orbit-3"></div>
                <div class="orbit-particle particle-1"></div>
                <div class="orbit-particle particle-2"></div>
                <div class="orbit-particle particle-3"></div>
                <div class="orbit-particle particle-4"></div>
                <div class="orbit-particle particle-5"></div>
                <div class="orbit-particle particle-6"></div>
                
                <!-- Energy Rings -->
                <div class="energy-ring energy-1"></div>
                <div class="energy-ring energy-2"></div>
                <div class="energy-ring energy-3"></div>
                
                <!-- Data Streams -->
                <div class="data-stream stream-1"></div>
                <div class="data-stream stream-2"></div>
                <div class="data-stream stream-3"></div>
                <div class="data-stream stream-4"></div>
                
                <!-- Glowing Dots -->
                <div class="glow-dot dot-1"></div>
                <div class="glow-dot dot-2"></div>
                <div class="glow-dot dot-3"></div>
                <div class="glow-dot dot-4"></div>
                        </div>
        </div>
        <h1 class="fw-bold text-white">SEO Brief Automator</h1>
        <p class="text-white-50">Step-by-step AI-powered content brief generation for finance professionals</p>
        
        <!-- Progress Indicator -->
        <div class="progress-container mb-4">
            <div class="progress-steps">
                <div class="progress-step active" id="progress-step1">
                    <div class="progress-icon">
                        <i class="fas fa-search"></i>
                                </div>
                    <div class="progress-label">SERP Collection</div>
                            </div>
                <div class="progress-step" id="progress-step2">
                    <div class="progress-icon">
                        <i class="fas fa-users"></i>
                            </div>
                    <div class="progress-label">UGC Research</div>
                </div>
                <div class="progress-step" id="progress-step3">
                    <div class="progress-icon">
                        <i class="fas fa-list-alt"></i>
                    </div>
                    <div class="progress-label">SERP Analysis</div>
                </div>
                <div class="progress-step" id="progress-step4">
                    <div class="progress-icon">
                        <i class="fas fa-file-download"></i>
                    </div>
                    <div class="progress-label">Final Brief</div>
                </div>
            </div>
        </div>
    </div>
    <div class="stepper">
        <!-- Step 1: SERP Collection -->
        <div class="step" id="step1">
                            <div class="step-title"><i class="fas fa-search me-2"></i>Step 1: Collect Top SERP Results</div>
            <form id="serpForm" class="row g-3 align-items-center" style="display: flex; flex-wrap: wrap; gap: 1rem 0;">
                <div class="col-md-4 mb-2 mb-md-0">
                    <input type="text" class="form-control" id="focusKeyword" placeholder="Focus Keyword" required>
                </div>
                <div class="col-md-4 mb-2 mb-md-0">
                    <input type="text" class="form-control" id="topicTheme" placeholder="Topic/Theme" required>
                </div>
                <div class="col-md-4 mb-2 mb-md-0">
                    <input type="text" class="form-control" id="buyerPersona" placeholder="Buyer Persona" required>
                </div>
                <div class="col-auto d-flex align-items-center" style="margin-left:auto;">
                    <button type="submit" class="btn btn-primary" id="startSerpBtn" style="min-width:160px;">
                        <span id="serpBtnText"><i class="fas fa-play me-1"></i>Start</span>
                    </button>
                        </div>
                    </form>
            <div class="status" id="serpStatus"></div>
            <div class="result-area" id="serpResults" style="display:none;"></div>
            <div class="text-end mt-2" id="serpCopySection" style="display:none;">
                <button class="btn btn-outline-primary btn-sm" id="serpCopyBtn"><i class="fas fa-copy me-1"></i>Copy Results</button>
                </div>
                    </div>
        <!-- Step 2: UGC Brief -->
        <div class="step step-hidden" id="step2" style="display: none;">
            <div class="step-title"><i class="fas fa-users me-2"></i>Step 2: Perform UGC Research</div>
            <textarea class="prompt-edit" id="ugcPrompt"></textarea>
            <button class="btn btn-primary" id="ugcBtn" disabled><i class="fas fa-magic me-1"></i>Start</button>
            <div class="status" id="ugcStatus"></div>
            <div class="result-area" id="ugcResults" style="display:none;"></div>
            <div class="text-end mt-2" id="ugcCopySection" style="display:none;">
                <button class="btn btn-outline-primary btn-sm" id="ugcCopyBtn"><i class="fas fa-copy me-1"></i>Copy Results</button>
                </div>
            <div class="download-section" id="ugcDownloadSection" style="display:none;">
                <button class="btn btn-success" id="ugcDocxBtn"><i class="fas fa-file-word me-1"></i>Download DOCX</button>
                        </div>
                    </div>
        <!-- Step 3: SERP Brief -->
        <div class="step step-hidden" id="step3" style="display: none;">
            <div class="step-title"><i class="fas fa-list-alt me-2"></i>Step 3: Generate SERP Analysis</div>
            <textarea class="prompt-edit" id="serpPrompt"></textarea>
            <button class="btn btn-primary" id="serpBriefBtn" disabled><i class="fas fa-magic me-1"></i>Start</button>
            <div class="status" id="serpBriefStatus"></div>
            <div class="result-area" id="serpBriefResults" style="display:none;"></div>
            <div class="text-end mt-2" id="serpCopySection" style="display:none;">
                <button class="btn btn-outline-primary btn-sm" id="serpCopyBtn"><i class="fas fa-copy me-1"></i>Copy Results</button>
                </div>
            <div class="download-section" id="serpDownloadSection" style="display:none;">
                <button class="btn btn-success" id="serpDocxBtn"><i class="fas fa-file-word me-1"></i>Download DOCX</button>
                </div>
                    </div>
        <!-- Step 4: Combine & Download -->
        <div class="step step-hidden" id="step4" style="display: none;">
            <div class="step-title"><i class="fas fa-file-download me-2"></i>Step 4: Generate Final Brief</div>
            <textarea class="prompt-edit" id="finalPrompt"></textarea>
            <button class="btn btn-success" id="combineBtn" disabled><i class="fas fa-magic me-1"></i>Generate Final Brief</button>
            <div class="status" id="combineStatus"></div>
            <div class="result-area" id="finalResults" style="display:none;"></div>
            <div class="text-end mt-2" id="finalCopySection" style="display:none;">
                <button class="btn btn-outline-primary btn-sm" id="finalCopyBtn"><i class="fas fa-copy me-1"></i>Copy Results</button>
                </div>
            <div class="download-section" id="finalDownloadSection" style="display:none;">
                <button class="btn btn-success" id="finalDocxBtn"><i class="fas fa-file-word me-1"></i>Download DOCX</button>
            </div>
        </div>
    </div>

<!-- HTML Report Modal -->
<div class="modal fade" id="htmlModal" tabindex="-1" aria-labelledby="htmlModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="htmlModalLabel">UGC Research HTML Report</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
            <div class="modal-body">
                <div id="htmlContent" style="max-height: 70vh; overflow-y: auto;"></div>
                </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="downloadHtmlBtn">Download HTML</button>
            </div>
        </div>
    </div>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script>
// Default prompts
const defaultUgcPrompt = `You are an expert content researcher specializing in finance and business topics. I need you to conduct comprehensive research on "<Focus Keyword>" for a blog about "<Topic/theme>" targeting "<Buyer Persona>".

Please research the following aspects and provide detailed findings:

1. **Platform Research**: Search across LinkedIn, Reddit (r/finance, r/FPandA, r/CFO), Quora, and Substack for recent discussions about <Focus Keyword>
2. **Question Analysis**: Identify specific questions that finance professionals are asking
3. **Pain Points**: Find common challenges and concerns
4. **Trending Topics**: Discover emerging themes and hot topics
5. **Industry Insights**: Gather insights from recent articles, discussions, and expert opinions

Please provide your findings in this structured format:

## Key Questions Identified
[List 8-12 specific questions that finance professionals are asking about <Focus Keyword>]

## Common Concerns & Challenges  
[List 6-8 main concerns or pain points related to <Focus Keyword>]

## Trending Topics & Themes
[List 5-7 trending topics or themes in the <Focus Keyword> space]

## Industry Insights & Expert Opinions
[Share 4-6 key insights from industry experts and recent discussions]

## Content Opportunities
[Identify 3-5 specific content opportunities based on your research]

## Recent Developments
[Note any recent changes, updates, or new developments related to <Focus Keyword>]

Use clear, professional language and focus on actionable insights. Base your research on real discussions and current trends.

Add links of all the sources from where the informations are being fetched.`;
const defaultSerpPrompt = `You are an expert content strategist. I will give you a list of blog article URLs that rank on the first page of Google for a target keyword.
For each URL:
- Start with the blog title and URL in bold
- Then provide a structured analysis in bullet format under the following sections
Please follow this structure for each blog:
Blog Title: [Insert blog post title]  
URL: [Insert blog post URL]  
1. Summary of the Article  
   - Brief overview of what the article covers.
2. Search Intent Covered  
   - What is the primary search intent (Informational, Navigational, Transactional, Commercial)?
   - How well does it fulfill that intent?
3. Subtopics Covered  
   - Bullet list of all key sections or talking points.
4. Depth of Coverage  
   - Is the content shallow, moderate, or deep?
   - What's covered in detail vs only skimmed?
5. What's Missing  
   - Gaps in logic, unexplored ideas, missing data/examples/frameworks.
6. Tone & Point of View  
   - Describe the tone (e.g., expert, conversational, tactical).
   - Is there a distinct point of view or is it generic?
7. Structure  
   - Type of article (e.g., guide, listicle, editorial).
   - List all H1, H2s and H3s.
8. SEO Signals  
   - Is the primary keyword used in title, H1, intro, and headers?
   - Mention 7-10 semantically related keywords used.
   - Describe internal and external linking strategy.
9. Unique Hooks or Contrarian Angles  
   - Any standout story, metaphor, framework, or angle?
10. Opportunities to Differentiate  
   - What can be improved — stronger POV, richer examples, deeper insights, visual storytelling, etc.?
11. Word Count  
   - Estimated total word count of the article.

Now, analyze the following articles:

1. [URL 1]  
2. [URL 2]  
3. [URL 3]  
...`;
const defaultFinalPrompt = `You are an expert SEO content writer. You are writing a blog article for Drivetrain, a FP&A platform for mid-market and enterprise businesses. The blog is targeted towards finance managers. The primary keyword for the blog is <focus keyword> and the high level topic/theme is <topic/theme>. I'm sharing two documents with you. One contains research of the top 10 ranking articles for this focus keyword on Google SERP and the second research of what real users are saying about this topic on UGC platforms.

Based on only these two documents, write a brief for this article. The brief should follow the below structure:

1. Suggested title and meta description
2. Suggested H1, H2s, H3s along with 30-50 words on what should be included in each heading. **Output the heading structure as a markdown table with columns: Heading, Level (H1/H2/H3), Description (30-50 words for each heading).**
3. Add 7-8 FAQs to be included in the blog
4. Under each heading, also add why you are suggesting what you are suggesting
5. Based on the word count of the top 10 ranking articles, provide a recommended word count range (don't give a vast range)
6. Suggest a design brief for the blog cover. Each blog has a blog cover, write a simple brief that would be easy for a designer to understand and design an illustration. Explain in simple terms what the article is about and suggest 3 concepts to depict that. Our blog style is minimal and clean.

A few notes:
2. Write a detailed enough brief such that a junior writer can flesh it out easily
3. Your goal from this article is for it to rank on page 1 of Google SERP and have high visibility on LLMs such as ChatGPT and Perplexity`;

document.getElementById('ugcPrompt').value = defaultUgcPrompt;
document.getElementById('serpPrompt').value = defaultSerpPrompt;
document.getElementById('finalPrompt').value = defaultFinalPrompt;

// Step 1: SERP Collection
const serpForm = document.getElementById('serpForm');
serpForm.addEventListener('submit', async function(e) {
            e.preventDefault();
    const focusKeyword = document.getElementById('focusKeyword').value.trim();
    const topicTheme = document.getElementById('topicTheme').value.trim();
    const buyerPersona = document.getElementById('buyerPersona').value.trim();
    const btn = document.getElementById('startSerpBtn');
    btn.disabled = true;
    document.getElementById('serpBtnText').innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Running...';
    document.getElementById('serpStatus').textContent = 'Collecting SERP results...';
    document.getElementById('serpResults').style.display = 'none';
    // Call backend
    const resp = await fetch('/start-step1', {
                    method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ focus_keyword: focusKeyword, topic_theme: topicTheme, buyer_persona: buyerPersona })
    });
    const data = await resp.json();
    if (resp.ok) {
        pollStatus('serp');
    } else {
        btn.disabled = false;
        document.getElementById('serpBtnText').innerHTML = '<i class="fas fa-play me-1"></i>Start';
        document.getElementById('serpStatus').textContent = data.error || 'Error starting SERP collection.';
    }
});

// Step 2: UGC Brief
const ugcBtn = document.getElementById('ugcBtn');
ugcBtn.addEventListener('click', async function() {
    ugcBtn.disabled = true;
    ugcBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Generating...';
    document.getElementById('ugcStatus').textContent = 'Conducting comprehensive UGC research...';
    document.getElementById('ugcResults').style.display = 'none';
    const customPrompt = document.getElementById('ugcPrompt').value;
    const resp = await fetch('/start-step2', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ custom_prompt: customPrompt })
    });
    const data = await resp.json();
    if (resp.ok) {
        pollStatus('ugc');
    } else {
        ugcBtn.disabled = false;
        ugcBtn.innerHTML = '<i class="fas fa-magic me-1"></i>Generate UGC Brief';
        document.getElementById('ugcStatus').textContent = data.error || 'Error generating UGC brief.';
    }
});

// Step 3: SERP Brief
const serpBriefBtn = document.getElementById('serpBriefBtn');
serpBriefBtn.addEventListener('click', async function() {
    serpBriefBtn.disabled = true;
    serpBriefBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Generating...';
    document.getElementById('serpBriefStatus').textContent = 'Generating SERP brief...';
    document.getElementById('serpBriefResults').style.display = 'none';
    const customPrompt = document.getElementById('serpPrompt').value;
    const resp = await fetch('/start-step3', {
                    method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ custom_prompt: customPrompt })
    });
    const data = await resp.json();
    if (resp.ok) {
        pollStatus('serp_analysis');
                } else {
        serpBriefBtn.disabled = false;
        serpBriefBtn.innerHTML = '<i class="fas fa-magic me-1"></i>Generate SERP Brief';
        document.getElementById('serpBriefStatus').textContent = data.error || 'Error generating SERP brief.';
    }
});

// Step 4: Combine & Download
const combineBtn = document.getElementById('combineBtn');
combineBtn.addEventListener('click', async function() {
    combineBtn.disabled = true;
    combineBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Generating...';
    document.getElementById('combineStatus').textContent = 'Generating final brief...';
    const customPrompt = document.getElementById('finalPrompt').value;
    const resp = await fetch('/start-step4', { 
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ custom_prompt: customPrompt })
    });
    const data = await resp.json();
    if (resp.ok && data.status === 'started') {
        pollStatus('combine');
                } else {
        combineBtn.disabled = false;
        combineBtn.innerHTML = '<i class="fas fa-magic me-1"></i>Generate Final Brief';
        document.getElementById('combineStatus').textContent = data.error || 'Error generating final brief.';
    }
});

// Polling function for status updates
function pollStatus(step) {
    let interval = setInterval(async () => {
        const resp = await fetch('/status');
        const status = await resp.json();
        if (status.status === 'error') {
            clearInterval(interval);
            showStepError(step, status.error || status.message);
            return;
        }
        if (step === 'serp' && status.step === 'serp_complete') {
            clearInterval(interval);
            document.getElementById('serpStatus').textContent = status.message;
            document.getElementById('serpResults').style.display = 'block';
            document.getElementById('serpResults').innerHTML = (status.serp_results || []).map((r, i) => `<div><b>${i+1}.</b> <a href="${r.url}" target="_blank">${r.title}</a><br><span class="text-muted">${r.url}</span><br>${r.snippet || ''}</div><hr>`).join('');
            document.getElementById('startSerpBtn').disabled = true;
            document.getElementById('serpBtnText').innerHTML = '<i class="fas fa-check me-1"></i>Complete';
            
            // Show Step 2
            const step2 = document.getElementById('step2');
            step2.style.display = 'block';
            setTimeout(() => {
                step2.classList.remove('step-hidden');
                step2.classList.add('step-visible');
                document.getElementById('ugcBtn').disabled = false;
            }, 100);
            
            // Update progress indicator
            document.getElementById('progress-step1').classList.remove('active');
            document.getElementById('progress-step1').classList.add('completed');
            document.getElementById('progress-step2').classList.add('active');
            
            // Update UGC prompt with user input values
            const focusKeyword = document.getElementById('focusKeyword').value.trim();
            const topicTheme = document.getElementById('topicTheme').value.trim();
            const buyerPersona = document.getElementById('buyerPersona').value.trim();
            
            let updatedUgcPrompt = defaultUgcPrompt
                .replace(/<Focus Keyword>/g, focusKeyword)
                .replace(/<Topic\/theme>/g, topicTheme)
                .replace(/<Buyer Persona>/g, buyerPersona);
            
            document.getElementById('ugcPrompt').value = updatedUgcPrompt;
        }
        if (step === 'ugc' && status.step === 'ugc_complete') {
            clearInterval(interval);
            document.getElementById('ugcStatus').textContent = status.message;
            document.getElementById('ugcResults').style.display = 'block';
            
            // Format the UGC results properly
            let ugcContent = '<em>No output</em>';
            if (status.ugc_brief && status.ugc_brief.html_output) {
                // Clean and format the HTML output
                ugcContent = status.ugc_brief.html_output
                    .replace(/<h1>/g, '<h3 class="text-primary mb-3">')
                    .replace(/<\/h1>/g, '</h3>')
                    .replace(/<h2>/g, '<h4 class="text-secondary mb-2">')
                    .replace(/<\/h2>/g, '</h4>')
                    .replace(/<h3>/g, '<h5 class="text-info mb-2">')
                    .replace(/<\/h3>/g, '</h5>')
                    .replace(/<ul>/g, '<ul class="list-unstyled">')
                    .replace(/<li>/g, '<li class="mb-1"><i class="fas fa-chevron-right text-primary me-2"></i>')
                    .replace(/<p>/g, '<p class="mb-2">')
                    .replace(/<strong>/g, '<strong class="text-dark">')
                    .replace(/<em>/g, '<em class="text-muted">');
            }
            
            document.getElementById('ugcResults').innerHTML = ugcContent;
            document.getElementById('ugcBtn').disabled = true;
            document.getElementById('ugcBtn').innerHTML = '<i class="fas fa-check me-1"></i>Enhanced UGC research complete';
            
            // Show Step 3
            const step3 = document.getElementById('step3');
            step3.style.display = 'block';
            setTimeout(() => {
                step3.classList.remove('step-hidden');
                step3.classList.add('step-visible');
                document.getElementById('serpBriefBtn').disabled = false;
            }, 100);
            
            // Update progress indicator
            document.getElementById('progress-step2').classList.remove('active');
            document.getElementById('progress-step2').classList.add('completed');
            document.getElementById('progress-step3').classList.add('active');
            
            // Show download section for Step 2
            document.getElementById('ugcDownloadSection').style.display = 'block';
            
            // Update SERP prompt with focus keyword and SERP URLs
            const focusKeyword = document.getElementById('focusKeyword').value.trim();
            let updatedSerpPrompt = defaultSerpPrompt;
            if (focusKeyword) {
                updatedSerpPrompt = defaultSerpPrompt + `\n\nTarget keyword: ${focusKeyword}`;
            }
            
            // Append SERP URLs from Step 1 results
            const serpResults = status.serp_results || [];
            if (serpResults.length > 0) {
                updatedSerpPrompt += `\n\nBlog article URLs to analyze:\n`;
                serpResults.forEach((result, index) => {
                    updatedSerpPrompt += `${index + 1}. ${result.url}\n`;
                });
            }
            
            document.getElementById('serpPrompt').value = updatedSerpPrompt;
        }
        if (step === 'serp_analysis' && status.step === 'serp_analysis_complete') {
            clearInterval(interval);
            document.getElementById('serpBriefStatus').textContent = status.message;
            document.getElementById('serpBriefResults').style.display = 'block';
            document.getElementById('serpBriefResults').innerHTML = status.serp_brief && status.serp_brief.html_output ? status.serp_brief.html_output : '<em>No output</em>';
            document.getElementById('serpBriefBtn').disabled = true;
            document.getElementById('serpBriefBtn').innerHTML = '<i class="fas fa-check me-1"></i>SERP research complete';
            
            // Show Step 4
            const step4 = document.getElementById('step4');
            step4.style.display = 'block';
            setTimeout(() => {
                step4.classList.remove('step-hidden');
                step4.classList.add('step-visible');
                document.getElementById('combineBtn').disabled = false;
            }, 100);
            
            // Update progress indicator
            document.getElementById('progress-step3').classList.remove('active');
            document.getElementById('progress-step3').classList.add('completed');
            document.getElementById('progress-step4').classList.add('active');
            
            // Show download section for Step 3
            document.getElementById('serpDownloadSection').style.display = 'block';
            
            // Update final prompt with user input values
            const focusKeyword = document.getElementById('focusKeyword').value.trim();
            const topicTheme = document.getElementById('topicTheme').value.trim();
            
            let updatedFinalPrompt = defaultFinalPrompt
                .replace(/<focus keyword>/g, focusKeyword)
                .replace(/<topic\/theme>/g, topicTheme);
            
            document.getElementById('finalPrompt').value = updatedFinalPrompt;
        }
        if (step === 'combine' && status.step === 'complete') {
            clearInterval(interval);
            document.getElementById('combineStatus').textContent = status.message;
            document.getElementById('combineBtn').disabled = true;
            document.getElementById('combineBtn').innerHTML = '<i class="fas fa-check me-1"></i>Final Brief Complete';
            
            // Display the final brief in the result area
            document.getElementById('finalResults').style.display = 'block';
            let finalContent = '<em>No output</em>';
            
            if (status.final_brief && status.final_brief.html_output) {
                // Format the final brief HTML output
                finalContent = status.final_brief.html_output
                    .replace(/<h1>/g, '<h3 class="text-primary mb-3">')
                    .replace(/<\/h1>/g, '</h3>')
                    .replace(/<h2>/g, '<h4 class="text-secondary mb-2">')
                    .replace(/<\/h2>/g, '</h4>')
                    .replace(/<h3>/g, '<h5 class="text-info mb-2">')
                    .replace(/<\/h3>/g, '</h5>')
                    .replace(/<ul>/g, '<ul class="list-unstyled">')
                    .replace(/<li>/g, '<li class="mb-1"><i class="fas fa-chevron-right text-primary me-2"></i>')
                    .replace(/<p>/g, '<p class="mb-2">')
                    .replace(/<strong>/g, '<strong class="text-dark">')
                    .replace(/<em>/g, '<em class="text-muted">')
                    .replace(/<code>/g, '<code class="bg-light p-1 rounded">')
                    .replace(/<\/code>/g, '</code>');
                
                // Add a success header
                finalContent = `
                    <div class="text-center mb-4 p-3 bg-success bg-opacity-10 rounded-3 border border-success border-opacity-25">
                        <i class="fas fa-check-circle text-success me-2"></i>
                        <strong class="text-success">Final Brief Generated Successfully!</strong>
                        <p class="text-muted mb-0 mt-1">Your comprehensive SEO content brief is ready for review and download.</p>
                </div>
                    ${finalContent}
                `;
            }
            
            document.getElementById('finalResults').innerHTML = finalContent;
            
            // Show download section for Step 4
            document.getElementById('finalDownloadSection').style.display = 'block';
            
            // Update progress indicator
            document.getElementById('progress-step4').classList.remove('active');
            document.getElementById('progress-step4').classList.add('completed');
        }
    }, 1500);
}

function showStepError(step, msg) {
    if (step === 'serp') document.getElementById('serpStatus').innerHTML = `<span class="text-danger">${msg}</span>`;
    if (step === 'ugc') document.getElementById('ugcStatus').innerHTML = `<span class="text-danger">${msg}</span>`;
    if (step === 'serp_analysis') document.getElementById('serpBriefStatus').innerHTML = `<span class="text-danger">${msg}</span>`;
    if (step === 'combine') document.getElementById('combineStatus').innerHTML = `<span class="text-danger">${msg}</span>`;
}

// Download button event handlers
document.getElementById('ugcDocxBtn').addEventListener('click', async function() {
    const btn = this;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Generating DOCX...';
    
    try {
        const resp = await fetch('/download-step2-docx', { method: 'POST' });
        const data = await resp.json();
        
        if (resp.ok && data.filename) {
            window.location.href = `/download/${data.filename}`;
            btn.innerHTML = '<i class="fas fa-check me-1"></i>DOCX Downloaded';
        } else {
            alert(data.error || 'Failed to generate DOCX');
            btn.disabled = false;
            btn.innerHTML = '<i class="fas fa-file-word me-1"></i>Download DOCX';
        }
            } catch (error) {
        alert('Error generating DOCX: ' + error.message);
        btn.disabled = false;
        btn.innerHTML = '<i class="fas fa-file-word me-1"></i>Download DOCX';
    }
});

document.getElementById('serpDocxBtn').addEventListener('click', async function() {
    const btn = this;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Generating DOCX...';
    
    try {
        const resp = await fetch('/download-step3-docx', { method: 'POST' });
        const data = await resp.json();
        
        if (resp.ok && data.filename) {
            window.location.href = `/download/${data.filename}`;
            btn.innerHTML = '<i class="fas fa-check me-1"></i>DOCX Downloaded';
        } else {
            alert(data.error || 'Failed to generate DOCX');
            btn.disabled = false;
            btn.innerHTML = '<i class="fas fa-file-word me-1"></i>Download DOCX';
        }
            } catch (error) {
        alert('Error generating DOCX: ' + error.message);
        btn.disabled = false;
        btn.innerHTML = '<i class="fas fa-file-word me-1"></i>Download DOCX';
    }
});

document.getElementById('finalDocxBtn').addEventListener('click', async function() {
    const btn = this;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Generating DOCX...';
    
    try {
        const resp = await fetch('/download-final-docx', { method: 'POST' });
        const data = await resp.json();
        
        if (resp.ok && data.filename) {
            window.location.href = `/download/${data.filename}`;
            btn.innerHTML = '<i class="fas fa-check me-1"></i>DOCX Downloaded';
        } else {
            alert(data.error || 'Failed to generate DOCX');
            btn.disabled = false;
            btn.innerHTML = '<i class="fas fa-file-word me-1"></i>Download DOCX';
        }
            } catch (error) {
        alert('Error generating DOCX: ' + error.message);
        btn.disabled = false;
        btn.innerHTML = '<i class="fas fa-file-word me-1"></i>Download DOCX';
    }
});

document.getElementById('finalJsonBtn').addEventListener('click', function() {
    // This will download the JSON file that was already generated in step 4
    const status = document.getElementById('combineStatus');
    const link = status.querySelector('a[href*="/download/"]');
    if (link) {
        window.location.href = link.href;
    } else {
        alert('No JSON file available. Please complete step 4 first.');
    }
});

// HTML Report functionality
document.getElementById('ugcHtmlBtn').addEventListener('click', async function() {
    const btn = this;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Loading...';
    
    try {
        const resp = await fetch('/ugc-html');
        
        if (resp.ok) {
            const htmlContent = await resp.text();
            document.getElementById('htmlContent').innerHTML = htmlContent;
            document.getElementById('htmlModalLabel').textContent = 'UGC Research HTML Report';
            
            // Show the modal with proper initialization
            const modalElement = document.getElementById('htmlModal');
            const modal = new bootstrap.Modal(modalElement);
            modal.show();
            
            btn.innerHTML = '<i class="fas fa-eye me-1"></i>View HTML Report';
        } else {
            const data = await resp.json();
            alert(data.error || 'Failed to load HTML report');
        }
    } catch (error) {
        alert('Error loading HTML report: ' + error.message);
    } finally {
        btn.disabled = false;
    }
});

document.getElementById('downloadHtmlBtn').addEventListener('click', async function() {
    const modalTitle = document.getElementById('htmlModalLabel').textContent;
    let url = '/ugc-html';
    let filename = 'ugc-research-report.html';
    if (modalTitle.includes('SERP')) {
        url = '/serp-html';
        filename = 'serp-analysis-report.html';
    } else if (modalTitle.includes('Final')) {
        url = '/final-html';
        filename = 'final-brief-report.html';
    }
    try {
        const resp = await fetch(url);
        if (resp.ok) {
            const htmlContent = await resp.text();
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const downloadUrl = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = downloadUrl;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(downloadUrl);
            document.body.removeChild(a);
        } else {
            alert('Failed to download HTML report');
        }
    } catch (error) {
        alert('Error downloading HTML report: ' + error.message);
    }
});

// Step 3: SERP HTML Report functionality
document.getElementById('serpHtmlBtn').addEventListener('click', async function() {
    const btn = this;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Loading...';
    try {
        const resp = await fetch('/serp-html');
        if (resp.ok) {
            const htmlContent = await resp.text();
            document.getElementById('htmlContent').innerHTML = htmlContent;
            document.getElementById('htmlModalLabel').textContent = 'SERP Analysis HTML Report';
            
            // Show the modal with proper initialization
            const modalElement = document.getElementById('htmlModal');
            const modal = new bootstrap.Modal(modalElement);
            modal.show();
            
            btn.innerHTML = '<i class="fas fa-eye me-1"></i>View HTML Report';
        } else {
            const data = await resp.json();
            alert(data.error || 'Failed to load HTML report');
        }
    } catch (error) {
        alert('Error loading HTML report: ' + error.message);
    } finally {
        btn.disabled = false;
    }
});

// Step 4: Final Brief HTML Report functionality
document.getElementById('finalHtmlBtn').addEventListener('click', async function() {
    const btn = this;
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i>Loading...';
    try {
        const resp = await fetch('/final-html');
        if (resp.ok) {
            const htmlContent = await resp.text();
            document.getElementById('htmlContent').innerHTML = htmlContent;
            document.getElementById('htmlModalLabel').textContent = 'Final Brief HTML Report';
            
            // Show the modal with proper initialization
            const modalElement = document.getElementById('htmlModal');
            const modal = new bootstrap.Modal(modalElement);
            modal.show();
            
            btn.innerHTML = '<i class="fas fa-eye me-1"></i>View HTML Report';
        } else {
            const data = await resp.json();
            alert(data.error || 'Failed to load HTML report');
        }
    } catch (error) {
        alert('Error loading HTML report: ' + error.message);
    } finally {
        btn.disabled = false;
    }
});

// Disable UGC/SERP/Combine buttons initially
ugcBtn.disabled = true;
serpBriefBtn.disabled = true;
combineBtn.disabled = true;

// Add MutationObserver to style tables in result areas
const finalResults = document.getElementById('finalResults');
const observer = new MutationObserver(() => {
    finalResults.querySelectorAll('table').forEach(table => {
        table.classList.add('modern-table');
    });
});
observer.observe(finalResults, { childList: true, subtree: true });

const ugcResults = document.getElementById('ugcResults');
const ugcObserver = new MutationObserver(() => {
    ugcResults.querySelectorAll('table').forEach(table => {
        table.classList.add('modern-table');
    });
});
ugcObserver.observe(ugcResults, { childList: true, subtree: true });

const serpBriefResults = document.getElementById('serpBriefResults');
const serpObserver = new MutationObserver(() => {
    serpBriefResults.querySelectorAll('table').forEach(table => {
        table.classList.add('modern-table');
    });
});
serpObserver.observe(serpBriefResults, { childList: true, subtree: true });
    </script>
</body>
</html>